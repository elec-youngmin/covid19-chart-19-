# covid19-chart (코로나19 차트)
저는 공공데이터를 활용해 어떤 프로젝트를 만들어 볼까 고민하다가 보건복지부에서 제공하는 API를 사용하기로 했습니다. 
계획은 API에서 제공하는 확진자수를 비롯한 데이터를 활용하고, 일일 확진자 수에 대한 차트를 제공하는 것이었습니다. 
코로나19 차트 개발을 진행하다가 여러 문제점이 있어 어려움이 있었는데, 해결한 방법을 나열하고자 합니다. 

1. cors policy 해결 

   이 에러는 서버가 다른 도메인으로 브라우저에 응답을 보내면 브라우저가 서버의 데이터를 차단하는 브라우저의 보안 정책입니다. 이 이슈는 프록시 방식을 사용하거나, 서버에서 데이터를 보낼 때 Access-Control-Allow-Origin 헤더를 추가해야합니다. 
제 상황은 API 서버에서 브라우저로 데이터를 보내면 브라우저가 차단해버려서 이 문제는 프록시 방식으로 해결했습니다.  API 서버에서 제 백엔드서버로 데이터를 보내고 백엔드서버로 프론트 서버로 데이터를 보내는 것으로 데이터를 브라우저까지 로드할 수 있습니다.

2.API 데이터를 불려오기전 컴포넌트가 렌더링되어 빈 차트가 나타남. 
  컴포넌트를 렌더링한후 API 데이터가 로드되어 컴포넌트에 데이터가 보이지 않는 현상이 발생했습니다. 이 문제점은 조건부 연산자를 사용해 API 데이터를 서버에서 프론트로 전부 로드되면 데이터가 프론트로 데이터가 들어있는 컴포넌트를 렌더링하고, API 데이터가 컴포넌트에 로드되지 않으면 로딩 컴포넌트를 렌더링하면서 문제를 해결 했습니다.
  
  3. API 데이터 오류
 문제를 해결하고 차트에 데이터가 표시되기는 하는데, API 데이터가 문제가 있는 것을 발견했습니다. 정확히는 2020년 4월 25일의 일일 확진자의 숫자가 잘못된 것을 발견했습니다. 그래서 차트로 데이터를 표현하면, 볼록 뛰어나왔다가 들어가는 것을 볼 수 있었습니다. 
 이문제는 데이터를 직접 수동으로 수정하여 해결했습니다. 다행히도 잘못된 데이터가 이 것 밖에 없어서 가능한 일이였습니다. 

사용한 기술 스택은 다음과 같습니다.
frontend: java script, react, next, redux, redux-saga, react-chartjs, react-bootstrap
backend: node, express

etc: axios, dotenv
